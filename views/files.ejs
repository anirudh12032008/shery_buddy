<%- include ("./components/header.ejs") %>
<% if (user) { %>
<div class="py-6 px-8">
  <h1 class="text-3xl font-semibold">Hello <%= user.fullname %>, you are currently in <%= user.batches.join(', ') %></h1>
 
</div>



<div class="w-full flex justify-center px-20">
  <table class="table-auto w-full ">
    <thead>
      <tr>
        <th
          class="py-2 px-4 bg-gray-200 text-left text-xs font-bold text-gray-900 uppercase tracking-wider"
        >
          File Name
        </th>
        <th
          class="py-2 px-4 bg-gray-200 text-left text-xs font-bold text-gray-900 uppercase tracking-wider"
        >
          Batch
        </th>
        
        <th
          class="py-2 px-4 bg-gray-200 text-left text-xs font-bold text-gray-900 uppercase tracking-wider"
        >
          Author
        </th>
        <th
          class="py-2 px-4 bg-gray-200 text-left text-xs font-bold text-gray-900 uppercase tracking-wider"
        >
          Date
        </th>
      </tr>
    </thead>
    <tbody>
        <% files.forEach((file) => { %>
            <!-- <a href="/files/<%= file.id %>" class="text-blue-500 hover:underline">    </a> -->

        <tr onclick="window.location='/files/<%= file.id %>'" style="cursor: pointer;" key="<%= file.id %>">
          <td class="px-4 py-2 border-b border-gray-200  text-left">
            <%= file.filename %>
          </td>
          <td class="px-4 py-2 border-b border-gray-200  text-left">
            <%= file.batch %>
          </td>
          <td class="px-4 py-2 border-b border-gray-200  text-left">
            <%= file.author %>
          </td>
          <td class="px-4 py-2 border-b border-gray-200  text-left">
            <%= new Date(file.createdAt).toLocaleDateString('en-GB', { day: 'numeric', month: 'long', year: 'numeric' }) %>
        </td>
        </tr>
        <% }) %>
      </tbody>
   
    
  </table>
</div>

  




</div>
    
  <% } else { %>
    <p>User not logged in. Please <a href="/login">login</a>.</p>
  <% } %>

<%- include ("./components/footer.ejs") %>